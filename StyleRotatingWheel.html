<head>
    <meta description="Hue cycle."/>
    <meta publisher="WhirlwindFX" />
    <meta property="Speed" label="Cycle Speed" type="number" min="0" max="10" default="3">
    <meta property="InterpolationStart" label="Interpolation Start" type="number" min="0" max="10" default="0">
</head>
    
<body style="margin: 0; padding: 0;">
    <canvas id="exCanvas" width="1280" height="740" style="width: 100%; height: 100%"></canvas>
</body>
    
<script type="text/javascript" src="engine.js"></script><script>
    // Defines meta variables, used for dev
    var Speed = 1
    var Primary = "#c600ff"
    var Secondary = "#0000ff"
    var Color3 = "#000000"
    var InterpolationStart = 0
    //

    let umbrellaCorp = []
    updatePixels([0, 2, 4, 6], red, umbrellaCorp)
    updatePixels([1, 3, 5, 7], { color: white, alpha: 0.18 }, umbrellaCorp)
    let violetWheel = [
        [198/4, 0, 255/4],
        [198, 0, 255],
        [198, 0, 255],
        [198/4, 0, 255/4],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
        [0, 0, 0],
    ]
    const calculateNewAnimationState = (animationState) => {
        let nextFrame = []

        for(let i = 0; i < pixelAmount; i++) {
            nextFrame[i] = animationState.oldFrame[cycle(i)]
        }

        return {...animationState, nextFrame }
    }
    let update = initEngine(calculateNewAnimationState, {}, umbrellaCorp, 500, 0.5)

    window.requestAnimationFrame(update)
</script>